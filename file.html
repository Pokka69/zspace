<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senarai Fail Ka</title>
    <style>
        body { background-color: #000000; color: white; font-family: -apple-system, sans-serif; padding: 20px; margin: 0; }
        
        /* Header */
        .header { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; margin-bottom: 25px; }
        /* LINK KEMBALI DAH FIX */
        .back-link { color: #448aff; text-decoration: none; font-size: 16px; font-weight: 500; }
        .title { font-size: 18px; font-weight: bold; flex-grow: 1; text-align: center; margin-right: 40px; }
        .btn-reset { background-color: #333; color: #ccc; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer; }

        .container { display: flex; flex-direction: column; gap: 12px; }
        
        .item-box {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px; border-radius: 15px; background-color: #1c1c1e;
            transition: 0.3s ease; border: 1px solid transparent;
        }

        /* Warna Biru bila diklik */
        .item-box.played { background-color: #1a237e; border: 1px solid #303f9f; }

        .content-left { display: flex; align-items: center; gap: 15px; }
        .icon-file { font-size: 20px; opacity: 0.8; }
        .text-title { font-weight: 500; font-size: 16px; }
        .info-blue { color: #00bcd4; font-size: 13px; margin-left: 10px; }

        .btn-buka { background-color: #f44336; color: white; border: none; padding: 10px 22px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 14px; }
    </style>
</head>
<body>

<div class="header">
    <a href="chat.html" class="back-link">‚Üê Kembali</a>
    <span class="title">Senarai Fail</span>
    <button class="btn-reset" onclick="resetWarna()">RESET</button>
</div>

<div class="container" id="fileList"></div>

<script>
    // ========================================================
    // ‚¨áÔ∏è TAMBAH KOTAK MANUAL KAT SINI (id jangan sama!) ‚¨áÔ∏è
    // ========================================================
    const senaraiData = [
        { id: 1, nama: "File 1", link: "https://google.com" },
        { id: 2, nama: "File 2", link: "https://youtube.com" },
        { id: 3, nama: "File 3", link: "https://tiktok.com" },
        { id: 4, nama: "File 4", link: "https://facebook.com" },
    ];

    // Guna localStorage biar dia ingat selamanya
    let statusKlik = JSON.parse(localStorage.getItem('dataBiruKa')) || {};

    function render() {
        const list = document.getElementById('fileList');
        list.innerHTML = '';

        senaraiData.forEach((item) => {
            const isBlue = statusKlik[item.id] ? 'played' : '';
            const div = document.createElement('div');
            div.className = `item-box ${isBlue}`;
            div.innerHTML = `
                <div class="content-left">
                    <span class="icon-file">üìÑ</span>
                    <div>
                        <span class="text-title">#${item.id} &nbsp; ${item.nama}</span>
                        <span class="info-blue">info | info | info</span>
                    </div>
                </div>
                <button class="btn-buka" onclick="bukaLink(${item.id}, '${item.link}')">BUKA</button>
            `;
            list.appendChild(div);
        });
    }

    function bukaLink(id, url) {
        statusKlik[id] = true;
        localStorage.setItem('dataBiruKa', JSON.stringify(statusKlik));
        render();
        window.open(url, '_blank');
    }

    function resetWarna() {
        if(confirm("Confirm nak reset semua kotak jadi hitam balik?")) {
            statusKlik = {};
            localStorage.removeItem('dataBiruKa');
            render();
        }
    }

    render();
</script>

</body>
</html>
