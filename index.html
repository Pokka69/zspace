<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ka-Tok | Login</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    background:linear-gradient(145deg,#0d1117,#0a0d12);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:Arial, sans-serif;
    color:#fff;
}

.card{
    background:#121826;
    width:90%;
    max-width:380px;
    padding:28px;
    border-radius:18px;
    box-shadow:0 0 30px rgba(0,0,0,.7);
}

h2{
    text-align:center;
    margin-bottom:25px;
    font-weight:500;
}

.input-box{
    background:#1a2132;
    border-radius:10px;
    display:flex;
    align-items:center;
    padding:12px;
    margin-bottom:15px;
}

.input-box span{
    opacity:.6;
    margin-right:8px;
}

.input-box input{
    width:100%;
    background:transparent;
    border:none;
    outline:none;
    color:#fff;
    font-size:16px;
}

button{
    width:100%;
    background:#21c17a;
    border:none;
    padding:12px;
    font-size:16px;
    border-radius:10px;
    color:#000;
    font-weight:bold;
}

.status{
    text-align:center;
    margin-top:15px;
    font-size:13px;
    color:#aaa;
}
</style>
</head>

<body>

<div class="card">
    <h2>User Login</h2>

    <div class="input-box">
        <span>ðŸ‘¤</span>
        <input id="username" placeholder="User name">
    </div>

    <button onclick="login()">LOGIN</button>

    <div class="status" id="status"></div>
</div>

<script>
if(localStorage.getItem("login")==="true"){
    window.location.href="homepage.html";
}

function login(){
    let user=document.getElementById("username").value.trim();
    let status=document.getElementById("status");

    if(!user.startsWith("@")){
        status.innerHTML="Username mesti bermula dengan @";
        return;
    }

    if(user==="@admin69"){
        localStorage.setItem("login","true");
        localStorage.setItem("user",user);
        window.location.href="homepage.html";
        return;
    }

    let users=JSON.parse(localStorage.getItem("users")||"{}");

    if(!users[user]){
        users[user]="pending";
        localStorage.setItem("users",JSON.stringify(users));
        status.innerHTML="Permintaan dihantar. Tunggu admin luluskan.";
        return;
    }

    if(users[user]==="pending"){
        status.innerHTML="Menunggu kelulusan admin...";
        return;
    }

    if(users[user]==="approved"){
        localStorage.setItem("login","true");
        localStorage.setItem("user",user);
        window.location.href="homepage.html";
    }
}
</script>

</body>
</html>